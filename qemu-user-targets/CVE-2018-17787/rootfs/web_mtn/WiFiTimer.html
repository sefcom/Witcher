
<!DOCTYPE html>
<html id="html">
<head>
<meta name="viewport" content="width=1200">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Pragma" content="No-cache" />
<meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
<meta http-equiv="Expires" content="-1" />
<link rel=stylesheet type="text/css" href="css/jquery.selectbox.css" media="all" />
<link href="css/stylish-select.css" type="text/css" rel="stylesheet" />
<link href="css/style_page.css?V=C1" type="text/css" rel="stylesheet" />
<title></title>
<script type="text/javascript" charset="utf-8" src="js/localization/zh-cn.js?V=C1"></script>
<script type="text/javascript" charset="utf-8" src="js/header.js?V=C1"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery.selectbox-0.2_new.js"></script>
<script type="text/javascript" charset="utf-8" src="js/SOAP/SOAPAction.js?V=C1"></script>
<script type="text/javascript" charset="utf-8" src="js/SOAP/SOAPWiFiTimer.js"></script>
<script type="text/javascript" charset="utf-8" src="js/initialJS.js"></script>
<script type="text/javascript" charset="utf-8" src="js/verify/verify.js?V=C1"></script>
<style type="text/css">
.devicename_show
{
	width:150px;
	overflow:hidden;
	text-overflow:ellipsis;
	white-space:nowrap;
}
#wifitimerlist td{
padding-top:10px;
padding-bottom:10px;
}

#wifitimertableadd{
margin-top:28px;
}
#wifitimertableadd th{
text-align:right;
width:90px;
color:#333333;
font-size:16px;
}
#wifitimertableadd td{
text-align:left;
color: #333333;
}
.empty{
height:32px;

}
.sbOptions{
max-height:160px !important;


}

.teimerdialogBox{
    background: #fff;
    border: 2px solid #fff;
	position:absolute;
	width:928px;
	height:404px;
	top:50%;
	left:50%;
	margin-top:-202px;
	margin-left:-464px;
	overflow-y:auto;
}

.date{
border: 1px solid #4598aa;
color:#333333;
border-radius: 4px;
width:76px;
height:40px;
line-height:40px;
float:left;
margin-right:16px;
text-align:center;
background-color:#FFFFFF;
cursor:pointer;
}

.datecheck{
border-radius: 4px;
border: 1px solid #4598aa;
color:#FFFFFF;
width:76px;
height:40px;
line-height:40px;
float:left;
margin-right:16px;
text-align:center;
background-color: #4598aa;
cursor:pointer;
}
</style>
<script type="text/javascript">

//xframeoption
if(top!=self){top.location=self.location;}

//var HNAP = new HNAP_XML();
var G_List=[];
var B_G_List=[];
var maxRuleNum = 8;//规则数限制为最多8条
var G_WeekDayrray=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"];
$(document).ready( function() {
	document.getElementById("right_content").style.display="none";
	document.getElementById("CreateOnloadMessage").style.display="";
	MoreContainMiniheight();
	GetXML();
	checkTimeout();
   beginMinuteSelect();
   endMinuteSelect();
  resetRulePOP();
  
	document.getElementById("savebutton5").value = I18N("j","Commom_Save");//保存
	document.getElementById("canclebutton").value = I18N("j","Commom_Cancel");//取消
	document.getElementById("addbutton").value = I18N("j","Commom_Apply");//确定
});

function GetXML()
{
	var soapAction = new SOAPAction();
    var getWifiDownInfo = new SOAPGetWifiDownSettingsResponse();
    soapAction.sendSOAPAction("GetWifiDownSettings",null,getWifiDownInfo).done(function(obj){
        GetWifiDownSettingsResult(obj);
    })
}

function GetWifiDownSettingsResult(obj)
{
    var mode = obj.ControlMode;
	var rule=obj.ControlRule;
	for(var i=0;i<rule.length;i++)
	{
		G_List[i]=[];
		B_G_List[i]=[];
		G_List[i] = rule[i];
		B_G_List[i] = rule[i];
	}
    if(mode=="true")
    {
        CreateTimerTable();
        document.getElementById("timer_enable").checked=true;;
        document.getElementById("timer_statue").className = "checkbox_on";
        document.getElementById("timercontent").style.display = "";
    }
    else
    {
        document.getElementById("timer_enable").checked=false;;
        document.getElementById("timer_statue").className = "checkbox_off";
        document.getElementById("timercontent").style.display = "none";
    }
	document.getElementById("right_content").style.display="";
	document.getElementById("CreateOnloadMessage").style.display="none";
	GetNTP();
}

function GetNTP()
{
    var GetNTPServerSettingsResponse = new SOAPGetNTPServerSettingsResponse();
    var soapAction = new SOAPAction();
    soapAction.sendSOAPAction("GetNTPServerSettings",null,GetNTPServerSettingsResponse).done(function(obj){
        if(obj.Status=="1")
        {
            document.getElementById("systime_statue").style.display = "none";
        }
        else
        {
            document.getElementById("systime_statue").style.display = "";
        }
    });
}

function TranslationDay(day)//转换显示日期为中文格式
{
	var dayshow="";
    switch(day)
    {
        case "Sun":
            //dayshow="周日";
            dayshow=I18N("j","ParentControl_Sunday");
            break;
        case "Mon":
            //dayshow="周一";
            dayshow=I18N("j","ParentControl_Monday");
            break;
        case "Tues":
            //dayshow="周二";
            dayshow=I18N("j","ParentControl_Tuesday");
            break;
        case "Wed":
            //dayshow="周三";
            dayshow=I18N("j","ParentControl_Wednesday");
            break;
        case "Thur":
            //dayshow="周四";
            dayshow=I18N("j","ParentControl_Thursday");
            break;
        case "Fri":
            //dayshow="周五";
            dayshow=I18N("j","ParentControl_Friday");
            break;
        case "Sat":
            //dayshow="周六";
            dayshow=I18N("j","ParentControl_Saturday");
            break;
    }
	return dayshow;
}

function CreateTimerTable()
{

	if(G_List.length>0)
	{
		document.getElementById("trnull").style.display="none";
	}
	else
	{
		document.getElementById("trnull").style.display="";
	}
	ClearTable("wifitimerlist",3);
	var TableList=[];
	for(var i=0;i<G_List.length;i++)
	{
		TableList[i]=[];
		var limitTime="";
		var day_display_list=G_List[i].Week.split(",");
		var day_display_chinese="";
		for(var t=0;t<day_display_list.length;t++)
		{
			if(t==day_display_list.length-1)//最后一个
			{
				day_display_chinese+=TranslationDay(day_display_list[t]);
				
			}
			else
			{
				day_display_chinese+=TranslationDay(day_display_list[t])+" ";
			}
		}

		limitTime="<div>"+G_List[i].StartTime+"-"+G_List[i].EndTime+"</div><div>"+day_display_chinese+"</div>";

		TableList[i].push(limitTime);

		if(G_List[i].Enable=="true")
			TableList[i].push("<div id='list_statue"+i+"' class='checkbox_on' onclick='changStatue("+i+")'><input type='checkbox' style='display:none;' id='list_enable"+i+"' checked></div>");
			else
			TableList[i].push("<div id='list_statue"+i+"' class='checkbox_off' onclick='changStatue("+i+")'><input type='checkbox' style='display:none;' id='list_enable"+i+"'></div>");

		TableList[i].push("<div class='divboximg'><div class='editimg pull-left' onclick='editData("+i+")'></div><div class='delimg pull-right' onclick='deleteData("+i+")'></div></div>");
	}
	CreateTable("wifitimerlist", TableList);
}

function changStatue(id)
{
    var listid="list_statue"+id;
    var listenableid="list_enable"+id;
    var a = document.getElementById(listenableid).checked;

    if(a)
    {
        document.getElementById(listid).className = "checkbox_off";
        document.getElementById(listenableid).checked=false;
        G_List[id].Enable=false;

    }
    else
    {
        document.getElementById(listid).className = "checkbox_on";
        document.getElementById(listenableid).checked=true;
        G_List[id].Enable=true;
    }
    save_button_changed();
		//IschangeFlag();
}

function deleteData(id)
{
    G_List.splice(id,1)
    CreateTimerTable();
    //IschangeFlag();
    document.getElementById("addbutton").disabled=false;
    save_button_changed();
}

function editData(id)
{
    document.getElementById("addbutton").disabled=false;

    edit=id;

    var begintime=G_List[id].StartTime.split(":");
    var endtime=G_List[id].EndTime.split(":");
    document.getElementById("begin_hour").value=begintime[0];
    document.getElementById("begin_minute").value=begintime[1];
    document.getElementById("end_hour").value=endtime[0];
    document.getElementById("end_minute").value=endtime[1];
    for(var d=0;d<7;d++)//初始化所有天数
    {
        var checkdateid="date"+d;
        var checkboxid="checkboxdate"+d;
        document.getElementById(checkboxid).checked=false;
        document.getElementById(checkdateid).className="date";
    }
    var weekday=G_List[id].Week.split(",");
    for(var k=0;k<weekday.length;k++)
    {
        for(var n=0;n<G_WeekDayrray.length;n++)
        {
            if(weekday[k]==G_WeekDayrray[n])
            {
                var checkdateid="date"+n;
                var checkboxid="checkboxdate"+n;
                document.getElementById(checkboxid).checked=true;
                document.getElementById(checkdateid).className="datecheck";
            }
        }
    }

    $("#begin_hour").selectbox("detach");
    $("#begin_minute").selectbox("detach");
    $("#end_hour").selectbox("detach");
    $("#end_minute").selectbox("detach");
   $("#begin_hour").selectbox({width:111,float:"left"});
    $("#begin_minute").selectbox({width:111,float:"left"});
    $("#end_hour").selectbox({width:111,float:"left"});
     $("#end_minute").selectbox({width:111,float:"left"});
     document.getElementById("createPop").style.display = "";
}
	

function resetRulePOP()
{
	document.getElementById("createPop").style.display = "none";
	for(var i=0;i<7;i++)
	{
		var checkdateid="date"+i;
	    var checkboxid="checkboxdate"+i;
		document.getElementById(checkboxid).checked=false;
		document.getElementById(checkdateid).className="date";
	}
	document.getElementById("begin_hour").value="00";
	document.getElementById("begin_minute").value="00";
	document.getElementById("end_hour").value="23";
	document.getElementById("end_minute").value="59";

        $("#begin_hour").selectbox("detach");
		$("#begin_minute").selectbox("detach");
	    $("#end_hour").selectbox("detach");
	    $("#end_minute").selectbox("detach");
	   $("#begin_hour").selectbox({width:111,float:"left"});
	   $("#begin_minute").selectbox({width:111,float:"left"});
	   $("#end_hour").selectbox({width:111,float:"left"});
	  $("#end_minute").selectbox({width:111,float:"left"});
}

function beginMinuteSelect()
{
		var u=document.getElementById("begin_minute");
		for(var i=0;i<60;i++)
		{
			var value=i;
			var textvlue=i;
			if(i<10)
			{
			  value="0"+i.toString();
			  textvlue="0"+i.toString();
			}

			u.options.add(new Option(value,textvlue));

		}

}
function endMinuteSelect()
{
    var u=document.getElementById("end_minute");
    for(var i=0;i<60;i++)
    {
        var value=i;
        var textvlue=i;
        if(i<10)
        {
          value="0"+i.toString();
          textvlue="0"+i.toString();
        }

        u.options.add(new Option(value,textvlue));

    }

}


function DateCheck(num)
{
	var checkdateid="date"+num;
	var checkboxid="checkboxdate"+num;
	if(document.getElementById(checkboxid).checked==true)
	{
		document.getElementById(checkboxid).checked=false;
		document.getElementById(checkdateid).className="date";
	}
	
	else
	{
		document.getElementById(checkboxid).checked=true;
		document.getElementById(checkdateid).className="datecheck";	
	}


}

function AddCancle()
{
    document.getElementById("createPop").style.display = "none";
    resetRulePOP();
    hideAllErrorInfo();
}

function hideAllErrorInfo()
{
	$("#error_time").hide();
    $("#error_day").hide();
    $("#error_list_num").hide();
}

function closeCreateRulePOP()
{
    var date="";
    var checkdate=[];
    var datearray=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"];
    hideAllErrorInfo();

    var begin_hour=document.getElementById("begin_hour").value;
    var begin_minute=document.getElementById("begin_minute").value;
    var starttime=begin_hour+":"+begin_minute+":"+"00";
    var end_hour=document.getElementById("end_hour").value;
    var end_minute=document.getElementById("end_minute").value;
    var endtime=end_hour+":"+end_minute+":"+"00";

    if("00"==begin_hour	&& "00"==begin_minute && "00"==end_hour && "00"==end_minute)//如果一个时间段都不选
    {
        showErr("error_time","errorinfo_time",I18N("j","Err_WiFiTimer_TimeEmpty"));
        return false;
    }
    else if(begin_hour > end_hour)
    {
        showErr("error_time","errorinfo_time",I18N("j","Err_WiFiTimer_Time"));
        return false;
    }
    else if(begin_hour == end_hour)
    {
        if(begin_minute >= end_minute)
        {
            showErr("error_time","errorinfo_time",I18N("j","Err_WiFiTimer_Time"));
            return false;
        }
    }

    var isdaySelect=false;//判断是否选择重复日期
    var isWeekSelect=false;//判断是否有两条规则选择了同一天
    var checkdateNUm=0;
    for(var i=0;i<datearray.length;i++)
    {
        var devicecheckid="checkboxdate"+i;
        if(document.getElementById(devicecheckid).checked==true)
        {
            checkdate[checkdateNUm]=datearray[i];//新增的规则选中了哪一天
            checkdateNUm++;
            isdaySelect=true;

            for(var index=0; index<G_List.length; index++)//和当前已经存在的规则对比
            {
                if(edit == index)//编辑规则，不和自己相比
                    continue;
                var week = G_List[index].Week.split(',');//取出每一条规则里面的WEEK参数
                for(var j=0;j<week.length;j++)
                {
                    if(datearray[i] == week[j])//当前规则包含了选中的这一天
                    {
                        /***
                            起止时间转化为整数进行比较大小
                            不允许有重叠的时间段，并且时间段边界相等也不允许
                        ***/
                        var new_time_start = Number(begin_hour*60) + Number(begin_minute);
                        var new_time_end = Number(end_hour*60) + Number(end_minute);
                        var old_time_start = Number(G_List[index].StartTime.split(':')[0]*60) + Number(G_List[index].StartTime.split(':')[1]);
                        var old_time_end = Number(G_List[index].EndTime.split(':')[0]*60) + Number(G_List[index].EndTime.split(':')[1]);

                        if(new_time_start < old_time_end)
                        {
                            if(new_time_end < old_time_start)
                                continue;
                            else/*新添加的起始时间<原有规则的结束时间 并且结束时间>=原有规则的起始时间*/
                            {
                                showErr("error_time","errorinfo_time",I18N("j","Err_WiFiTimer_OverlapTime"));
                                return false;
                            }
                        }
                        else if(new_time_start == old_time_end)
                        {
                            showErr("error_time","errorinfo_time",I18N("j","Err_WiFiTimer_OverlapTime"));
                            return false;
                        }
                        /*起始时间大于现有规则的结束时间，符合要求*/
                    }
                }
            }
        }

    }

    for(var i=0;i<checkdate.length;i++)
    {
        if(i==checkdate.length-1)
        {
            date+=checkdate[i];

        }
        else
        {
            date+=checkdate[i]+",";
        }
    }
    if(!isdaySelect)//如果没有选择重复日期
    {
        showErr("error_day","errorinfo_day",I18N("j","Err_WiFiTimer_Day"));
        return false;
    }

    if(edit < 0)
    {
        G_List.push({
            Enable:"true",
            StartTime:starttime,
            EndTime:endtime,
            Week:date
        });
    }
    else
    {
        G_List.splice(edit,1,{
            Enable:"true",
            StartTime:starttime,
            EndTime:endtime,
            Week:date
        });
    }

    //IschangeFlag();
    resetRulePOP();
    save_button_changed();
    CreateTimerTable();

}//end of closeCreateRulePOP

function Add()
{
	edit=-1;
	document.getElementById("createPop").style.display = "";
	
	var ExistTableListNUM=G_List.length;//表中已有数目
	if(ExistTableListNUM >= maxRuleNum)
	{
		showErr("error_list_num","errorinfo_list_num",I18N("j","Err_WiFiTimer_TableListNum"));
		document.getElementById("addbutton").disabled=true;
	}
}
function BtnSaveClick()
{
	document.getElementById("createPop_ConfigSave").style.display = "";
}
function SaveCancel()
{
	document.getElementById("createPop_ConfigSave").style.display = "none";
}
function SaveData()
{
	document.getElementById("createPop_ConfigSave").style.display = "none";
		$.ajax({
			cache: false,
			url: "./js/CheckConnection",
			timeout: 5000,
			type: "GET",
			success: function(data) {
				SetXML();
			},
			error: function() {
				document.getElementById("DetectRouterConnection").style.display = "inline";
			}
		});	
}


function SetXML() {
	document.getElementById("CreatePopAlertMessage").style.display = "inline";
	document.getElementById("waitSettingFinish").style.display = "inline";
	SetResult();
}

function SetResult() {
    var soapAction = new SOAPAction();
    var setWifiDownSetting = new SOAPSetWifiDownSettings();
    if(document.getElementById("timer_enable").checked==true)//点击打开时
    {
        setWifiDownSetting.ControlMode = true;
        setWifiDownSetting.ControlRule = G_List;
    }
    else//点击关闭时
    {
        setWifiDownSetting.ControlMode = false;
        setWifiDownSetting.ControlRule = B_G_List;
    }

    soapAction.sendSOAPAction("SetWifiDownSettings",setWifiDownSetting,null).done(function(obj){
        if(obj.SetWifiDownSettingsResult == "OK"){
            setTimeout("waitSettingFinished()", 20000);
            //waitSettingFinished();
        }else{
            showConnectError();
        }
    }).fail(function(){
        showConnectError();
    });
}

function showConnectError(){
    document.getElementById("CreatePopAlertMessage").style.display = "none";
    document.getElementById("waitSettingFinish").style.display = "none";
    document.getElementById("DetectRouterConnection").style.display = "inline";
}

function ChangTimerEnable()
{
		ChangTimerStatus();
		$.ajax({
			cache: false,
			url: "./js/CheckConnection",
			timeout: 5000,
			type: "GET",
			success: function(data) {
				SetXML();
			},
			error: function() {
				document.getElementById("DetectRouterConnection").style.display = "inline";
			}
		});
}

function waitSettingFinished() 
{
	window.location.reload();
}	

function ChangTimerStatus()
{
		var a = document.getElementById("timer_enable").checked;

		if(a)
		{
			document.getElementById("timer_statue").className = "checkbox_off";
			document.getElementById("timer_enable").checked=false;
			
			document.getElementById("timercontent").style.display = "none";

		}
		else
		{
			document.getElementById("timer_statue").className = "checkbox_on";
			document.getElementById("timer_enable").checked=true;
			document.getElementById("timercontent").style.display = "";

		}
}

function save_button_changed()
{
    $("#savebutton5").attr("disabled",false).removeClass("styled_button_s").addClass("styled_button_s_active");
}


</script>
</head>

<body>
<!-------------------- Logo menu------------------------->
	<div class="wrapper">  
		<div id="header"></div>
		<div class="clearboth" align="center" id="content">
			<div class="morecontent" align="center" id="basiccontent">
		 		<div class="pull-left" id="sub_menu_container"> 
				<script>initialLeftMenu();</script>
				</div>
				<div id="right_content"  class="pull-left" style="display:none; ">
					<table border="0"  class="tablemoreheader clearboth" cellpadding="0" cellspacing="0" align="left">
						<tr>
							<th><script>I18N("h","WiFiTimer_Enable");</script><!-- 开启WiFi定时开关 --></th>
							<td class="tdcheckbox">
								 <div id="timer_statue" class="checkbox_off" onclick="ChangTimerEnable();">
                       				 <input type="checkbox" id="timer_enable" name="timer_enable" checked>
                      			</div>
							</td>
						</tr>
					</table>
					<div class="moreline1 clearboth"></div>
					<div id="timercontent">
					<div class="description"><script>I18N("h","WiFiTimer_Description");</script><!-- 开启Wi-Fi定时关闭功能后，您可以让路由器的Wi-Fi --></div>
	
		  		 <table class="clearboth table_list" id="wifitimerlist" align="left" cellpadding="0" cellspacing="0" style="margin-top:64px; ">
					<tbody>
					<tr class="tableheader">
						<td colspan="3" style=" padding-top:0px;padding-bottom:0px;">
							<div style="position:relative;height:100%">
								<span style="text-align:center;"><script>I18N("h","WiFiTimer_Table");</script><!-- 定时关闭列表 --></span>
								<div onClick="Add();" class="addbutton" style="right:81px;"></div>
							</div>
						</td>
					</tr>
					<tr class="tableheader2">
						<td style="width:400px; padding-top:0px;padding-bottom:0px; "><script>I18N("h","WiFiTimer_Close_Time");</script><!-- WiFi定时关闭时段 --></td>
						<td style="width:184px;padding-top:0px;padding-bottom:0px; "><script>I18N("h","WiFiTimer_Status");</script><!-- 状态 --></td>
						<td style="width:184px; padding-top:0px;padding-bottom:0px; "><script>I18N("h","Commom_Operation");</script><!-- 操作 --></td>
					</tr>
					<tr id="trnull">
					<td>&nbsp;</td>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
					</tr>
				</tbody>
			</table>					 
			<table align="left" style="width:100%; margin-top:36px;" class="clearboth">
				<!-- <tr  align="center"><td><input type="button" value="保存" id="savebutton5" class="styled_button_s" onClick="SaveData();"></td></tr> -->
				<tr  align="center"><td><input type="button" value="" id="savebutton5" class="styled_button_s" disabled onClick="BtnSaveClick();"></td></tr>
			</table>
			</div>				
				</div><!--end right_content -->
			</div>
	   </div>
 	   <div class="footer_placeholder"></div>  
   </div>
	
	<div style=" display:none;" id="createPop">
	  <div class="teimerdialogBox" style="width:880px; max-height:570px; ">
		<div class="advance_row" style="padding-top:26px; margin-left:24px;margin-right:24px; ">
		    <span><script>I18N("h","WiFiTimer_Add");</script><!-- 添加WiFi定时关闭时间段 --></span>
	   </div>
	   <div align="center" id="error_list_num" class="errorinfo" style="display:none;">
		<table>
			<tbody>
				<tr>
					<td><div class="ic-sign ic"></div></td>
					<td id="errorinfo_list_num" style="color:#82878d"></td>
				</tr>
			</tbody>
		</table>
		</div>
	   <div id="systime_statue" style="width:100%; text-align:center; margin-top:15px;">
	   	<table align="center" cellpadding="0" cellspacing="" style="margin:0 auto; ">
			<tr>
				<td><div  style="margin-top:5px; padding-right:5px;"><img src="image/icon_jingshi.png" width="16" height="16"></div></td>
				<td style="font-size:14px; color:#666666;"><script>I18N("h","WiFiTimer_SNTP_Error");</script><!-- 当前系统时间不正确，Wi-Fi定时关闭功能将在联网后生效 --></td>
			</tr>
		</table>
		</div>
	<table cellspacing="0" border="0" id="wifitimertableadd" class="clearboth" style="display:block; ">
      <tbody>
	    <tr>
          <th>
         <script>I18N("h","ParentControl_Time_Period");</script><!-- 时间段 : -->
          </th>
          <td style="padding-left:66px; ">
			<div style="float:left; ">
			<select name="begin_hour" id="begin_hour">
				<option value="00">00</option>
				<option value="01">01</option>
				<option value="02">02</option>
				<option value="03">03</option>
				<option value="04">04</option>
				<option value="05">05</option>
				<option value="06">06</option>
				<option value="07">07</option>
				<option value="08">08</option>
				<option value="09">09</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
			</select>
			</div>
			<div style=" width:40px; text-align:center; float:left; padding-top:8px;">:
			</div>
			<div style="float:left; ">
			<select name="begin_minute" id="begin_minute">
			</select>
			</div>
			<div style="float:left;width:118px; text-align:center;padding-top:8px; ">
			<script>I18N("h","ParentControl_Between");</script><!-- 至 -->
			</div>
			<div style="float:left; ">
			<select name="end_hour" id="end_hour">
				<option value="00">00</option>
				<option value="01">01</option>
				<option value="02">02</option>
				<option value="03">03</option>
				<option value="04">04</option>
				<option value="05">05</option>
				<option value="06">06</option>
				<option value="07">07</option>
				<option value="08">08</option>
				<option value="09">09</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>			
			</select> 
			 </div> 
			 <div style="width:40px; text-align:center; float:left; padding-top:8px; ">      
			 :
			</div>
			<div style="float:left; ">
			<select name="end_minute" id="end_minute">
			</select>
			</div>
			 </td>
        </tr>
		<tr align="left" id="error_time" style="display:none;">
			<th></th>
			<td class="errorinfo" style="padding-left:66px; ">
				<table>
					<tbody>
						<tr>
							<td>
							<div class="ic-sign ic"></div>
						  </td>
						  <td id="errorinfo_time" style="color:#666666"></td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
		<tr class="empty"></tr>
		<tr >
			<th align="left" ><script>I18N("h","ParentControl_Repeated_Days");</script><!-- 重复 : --></th>
			<td style="padding-left:66px; ">
			<div class="date" id="date0" onClick="DateCheck(0)"><script>I18N("h","ParentControl_Sunday");</script><!-- 周日 --></div>
			<div class="date" id="date1" onClick="DateCheck(1)"><script>I18N("h","ParentControl_Monday");</script><!-- 周一 --></div>
			<div class="date" id="date2" onClick="DateCheck(2)"><script>I18N("h","ParentControl_Tuesday");</script><!-- 周二 --></div>
			<div class="date" id="date3" onClick="DateCheck(3)"><script>I18N("h","ParentControl_Wednesday");</script><!-- 周三 --></div>
			<div class="date" id="date4" onClick="DateCheck(4)"><script>I18N("h","ParentControl_Thursday");</script><!-- 周四 --></div>
			<div class="date" id="date5" onClick="DateCheck(5)"><script>I18N("h","ParentControl_Friday");</script><!-- 周五 --></div>
			<div class="date" id="date6" onClick="DateCheck(6)"><script>I18N("h","ParentControl_Saturday");</script><!-- 周六 --></div>
			<input type="checkbox" id="checkboxdate0" style="display:none;"><input type="checkbox" id="checkboxdate1" style="display:none;"><input type="checkbox" id="checkboxdate2" style="display:none;"><input type="checkbox" id="checkboxdate3" style="display:none;"><input type="checkbox" id="checkboxdate4" style="display:none;"><input type="checkbox" id="checkboxdate5" style="display:none;"><input type="checkbox" id="checkboxdate6" style="display:none;">
			</td>
		</tr>
		<tr align="left" id="error_day" style="display:none;">
			<th></th>
			<td class="errorinfo" style="padding-left:66px; ">
				<table>
					<tbody>
						<tr>
							<td>
							<div class="ic-sign ic"></div>
						  </td>
						  <td id="errorinfo_day" style="color:#666666"></td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
	</tbody>
	</table>
	 <div class="line" style="padding-top:24px;"></div>
	 <div align="center" style="margin-top:24px;">
		<!-- <span><input type="button" value="取消" id="canclebutton" class="styled_button_ss" onClick="AddCancle();"></span><span  style="margin-left:20px; "><input type="button" value="确定" id="addbutton" class="styled_button_ss" onClick="closeCreateRulePOP();"></span> -->
		<span><input type="button" value="" id="canclebutton" class="styled_button_ss" onClick="AddCancle();"></span><span  style="margin-left:20px; "><input type="button" value="" id="addbutton" class="styled_button_ss" onClick="closeCreateRulePOP();"></span>
	</div>
	 
	  </div>
	</div>	
	<div style=" display:none;" id="createPop_ConfigSave" class="createPopRecovery">
		<div class="dialogBoxBackup" id="save_wifi_setting" style="width:550px;">
			<div class="advance_rowBackup">
				<span><script>I18N("h","WiFiTimer_Save_Settings");</script><!-- 保存WiFi定时设置 --></span>
			</div>
			<div class="descriptionBackup" style="margin:65px 0 42px;padding:0 24px;" ><p style="text-align:left;display:inline-block"><script>I18N("h","WiFiTimer_Tips");</script><!-- 在定时时段内无线网络会被关闭，在定时时段内如果您想要使用WiFi只需重启DUT即可。 --></div>
			<div class="advance_rowBackup" style="margin:0px;"></div>
			<div align="center" style="margin-bottom:48px;margin-top:24px;margin-left:45px; margin-right:45px;">
				<input type="button" value="取消" class="styled_button_ss" style="" onClick="SaveCancel();" id="save_cancel">
				<input type="button" value="确定" class="styled_button_ss" style="margin-left:18px;" onClick="SaveData();" id="save_confirm">
			</div>
		</div>
	</div>
	<div id="footer"></div>
	<div id="CreatePopAlertMessage" style=" display:none;"></div>
	<div style=" display:none;" id="DetectRouterConnection"></div>
	<div id="CreateOnloadMessage" style="display:none;"><div class="OnLoadPopRect"><img src="/image/submit.gif" width="58" height="58"></div></div>
</body>
<script type="text/javascript">
Initial();
</script>
</html>
